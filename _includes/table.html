<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>DVD Screensaver</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/handsontable/styles/handsontable.min.css" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/handsontable/styles/ht-theme-main.min.css" />
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/handsontable/dist/handsontable.full.min.js"></script>
  <script src="https://code.jquery.com/jquery-3.7.1.slim.min.js" integrity="sha256-kmHvs0B+OpCW5GVHUNjv9rOmY0IvSIRcf7zGUDTDQM8=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js"></script>
  <style>
    body {
      margin: 0;
      background: black;
      overflow: hidden;
    }
    #logo {
      position: absolute;
      background-color: #00ffcc;
      border-radius: 20px;
    }
    .notification {
      position: fixed;
      bottom: 20px;
      left: 20px; /* üëà ƒë·ªïi t·ª´ right sang left */
      background: #00c853;
      color: white;
      padding: 12px 20px;
      border-radius: 8px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
      font-family: sans-serif;
      opacity: 0;
      transform: translateY(20px);
      transition: opacity 0.3s ease, transform 0.3s ease;
      z-index: 1000;
    }
  
    .notification.show {
      opacity: 1;
      transform: translateY(0);
    }

    @keyframes growText {
      0% {
        transform: scale(1);
      }
      50% {
        transform: scale(1.5); /* üëà ph√≥ng to t·∫°i gi·ªØa */
      }
      100% {
        transform: scale(1); /* üëà tr·ªü l·∫°i b√¨nh th∆∞·ªùng */
      }
    }
    
    .zoom-font {
      animation: growText 0.5s forwards;
    }
  </style>
</head>
<body>
  <!-- V·ªã tr√≠ ƒë·ªÉ th√¥ng b√°o -->
  <div id="notify" class="notification"></div>
  <div id="logo"></div>
  <div id="sorry" class="zoom-font" style="display:none; color: white"> Sorry, ten year = 1 chuc </div>

  <script>
    const logo = document.getElementById("logo");
    const boxSize = 100;
    const speed = 3;

    let x = Math.random() * (window.innerWidth - boxSize);
    let y = Math.random() * (window.innerHeight - boxSize);
    let dx = speed;
    let dy = speed;
    let angle = 0;
    let cnt = 0;

    function move() {
      x += dx;
      y += dy;
      angle += 2;

      // Ch·∫°m t∆∞·ªùng -> ƒë·ªïi h∆∞·ªõng + ƒë·ªïi m√†u
      if (x <= 0 || x + boxSize >= window.innerWidth) {
        dx *= -1;
      }
      if (y <= 0 || y + boxSize >= window.innerHeight) {
        dy *= -1;
      }

      // C·∫≠p nh·∫≠t v·ªã tr√≠ b·∫±ng Anime.js
      anime.set(logo, {
        translateX: x,
        translateY: y,
        rotate: angle
      });

      requestAnimationFrame(move);
    }

    move();

    function showNotification(message, duration = 3000) {
      const notify = document.getElementById('notify');
      notify.textContent = message;
      notify.classList.add('show');
  
      setTimeout(() => {
        notify.classList.remove('show');
      }, duration);
    }
  
    // V√≠ d·ª• g·ªçi th·ª≠:
    

    const container = document.querySelector('#logo');

    const randomColor = () => {
      return '#' + Math.floor(Math.random()*16777215).toString(16);
    };

    const hot = new Handsontable(container, {
      // theme name with obligatory ht-theme-* prefix
      themeName: 'ht-theme-main-dark-auto',
      // other options
      data: [
        ['2019', 10, 11, 12, 13],
        ['2020', 20, 11, 14, 13],
        ['2021', 30, 15, 12, 13]
      ],
      rowHeaders: true,
      colHeaders: ['', 'Tesla', 'Volvo', 'Toyota', 'Ford'],
      filters: true,
      contexMenu: true,
      dropdownMenu: true,
      height: 125,  // scroll d·ªçc
      width: 433, // kh√¥ng c·∫ßn scroll ngang (n·∫øu s·ªë c·ªôt v·ª´a)
      autoWrapRow: true,
      autoWrapCol: true,
      afterOnCellMouseDown(row, col, td, event) {
        cnt++;
        if (cnt % 4 == 0) {
          showNotification("ƒê√£ l∆∞u click th√†nh c√¥ng!");
        }
        if (cnt % 10 >= 0 && cnt % 10 <= 5) {
          document.getElementById("sorry").style.display = 'inline';
        } else {
          $("#sorry").hide();
        }
      },
      licenseKey: 'non-commercial-and-evaluation' // for non-commercial use only
    });

    setInterval(() => {
      const rows = hot.countRows();
      const cols = hot.countCols();

      for (let r = 0; r < rows; r++) {
        for (let c = 0; c < cols; c++) {
          const td = hot.getCell(r, c);
          if (td) {
            td.style.border = `2px solid ${randomColor()}`;
          }
        }
      }
    }, 500);

  </script>
</body>
</html>
