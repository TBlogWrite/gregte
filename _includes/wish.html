<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <title>üôè Ch·ªçn ƒëi·ªÅu b·∫°n c·∫ßu mong</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&display=swap" rel="stylesheet">
  <style>
    canvas { display: block; background: #f4f4f4; }
    body {
      margin:0;
      padding:0;
      height:100vh;
      display:flex;
      flex-direction:column;
      justify-content:center;
      align-items:center;
      background:#f0f0f0;
      overflow:hidden;
      font-family: "Great Vibes", cursive;
      font-weight: 400;
      font-style: normal;
    }
    #gr-bt {
      position: absolute;
      width: 100%;
      z-index: 100;
      top: 43px;
    }

  button {
    margin: 10px;
    padding: 12px 28px;
    font-size: 18px;
    font-weight: bold;
    cursor: pointer;
    border: none;
    border-radius: 30px;        /* bo tr√≤n nhi·ªÅu */
    background: linear-gradient(135deg, #4CAF50, #2e7d32);
    color: white;
    box-shadow: 0 4px 8px rgba(0,0,0,0.2);
    transition: transform 0.2s, background 0.3s, box-shadow 0.3s;
  }

  button {
    font-family: "Great Vibes", cursive;
  }

  button:hover {
    background: linear-gradient(135deg, #66bb6a, #388e3c);
    transform: scale(1.07);      /* ph√≥ng to nh·∫π khi hover */
    box-shadow: 0 6px 12px rgba(0,0,0,0.25);
  }

  button:active {
    transform: scale(0.95);      /* nh·∫•n xu·ªëng th√¨ nh·ªè l·∫°i */
    box-shadow: 0 3px 6px rgba(0,0,0,0.2);
  }
  
  .icon {
    position: absolute;
    top: 50%;
    font-size: 50px; /* tƒÉng k√≠ch th∆∞·ªõc */
    animation-timing-function: linear;
    animation-fill-mode: forwards;
    pointer-events: none;
    
  }
  
  /* bay sang ph·∫£i */
  @keyframes flyAcross {
    from { transform: translateX(-100px); opacity:1;  }
    to   { transform: translateX(110vw); opacity:0; }
  }
  
  /* bay sang tr√°i v·ªõi √°nh s√°ng n·ªïi b·∫≠t */
  @keyframes flyBack {
    0% {
      transform: translateX(100vw);
      opacity: 0.5;
      text-shadow: 0 0 5px #fff, 0 0 10px #ff0, 0 0 15px #ff0;
    }
    25% {
      opacity: 0.7;
      text-shadow: 0 0 10px #fff, 0 0 20px #ff0, 0 0 30px #ff0;
    }
    50% {
      opacity: 0.9;
      text-shadow: 0 0 15px #fff, 0 0 30px #ff0, 0 0 45px #ff0;
    }
    75% {
      opacity: 1;
      text-shadow: 0 0 20px #fff, 0 0 40px #ff0, 0 0 60px #ff0;
    }
    100% {
      transform: translateX(-90vw);
      opacity: 1;
      text-shadow: 0 0 25px #fff, 0 0 50px #ff0, 0 0 75px #ff0;
    }
  }
  
  </style>
</head>
<body>
  <div id="gr-bt">
  <button onclick="fly('üí∏')">C·∫ßu ti·ªÅn t√†i</button>
  <button onclick="fly('üß†')">C·∫ßu tr√≠ tu·ªá</button>
  <button onclick="fly('‚ù§Ô∏è')">C·∫ßu t√¨nh y√™u</button>
  <button onclick="fly('üíº', true)">C·∫ßu c√¥ng vi·ªác</button>
</div>
<script src="https://cdn.jsdelivr.net/npm/three@0.160.0/build/three.min.js"></script>
<script>
  const scene = new THREE.Scene();

  let aspect = window.innerWidth / window.innerHeight;
  const camera = new THREE.OrthographicCamera(-10*aspect, 10*aspect, 10, -10, 0.1, 100);
  camera.position.z = 20;
  
  const renderer = new THREE.WebGLRenderer({antialias: true});
  renderer.setSize(window.innerWidth, window.innerHeight);
  document.body.appendChild(renderer.domElement);
  
  /* ==== Nh√≥m ng∆∞·ªùi que ==== */
  const stickman = new THREE.Group();
  scene.add(stickman);
  
  function makeStick(x1, y1, x2, y2, color, thickness=0.1) {
    const dx = x2 - x1;
    const dy = y2 - y1;
    const length = Math.sqrt(dx*dx + dy*dy);
    const geometry = new THREE.CylinderGeometry(thickness, thickness, length, 8);
    const stick = new THREE.Mesh(geometry, new THREE.MeshBasicMaterial({ color: color }));
    stick.position.set((x1+x2)/2, (y1+y2)/2, 0);
    stick.rotation.z = Math.atan2(dy, dx) - Math.PI/2;
    stickman.add(stick); // th√™m v√†o group
  }
  
  /* ƒê·∫ßu (ƒëen vi·ªÅn tr·∫Øng) */
  const headPoints = new THREE.Path()
    .absarc(0, 8, 1, 0, Math.PI * 2, false)
    .getPoints(64);
  const headGeometry = new THREE.BufferGeometry().setFromPoints(headPoints);
  const headMaterial = new THREE.LineBasicMaterial({ color: 0xffffff });
  const head = new THREE.LineLoop(headGeometry, headMaterial);
  stickman.add(head);
  
  /* Th√¢n */
  makeStick(0, 7, 0, 4, 0x0000ff);
  /* ƒê√πi */
  makeStick(0, 4, 2, 3, 0x00ff00);
  /* C·∫≥ng ch√¢n */
  makeStick(-1, 3, 2, 3, 0xff8800);
  /* Tay */
  makeStick(0, 6, 1.5, 7, 0xff0000);
  
  /* ==== CƒÉn ng∆∞·ªùi que xu·ªëng ƒë√°y ==== */
  function positionStickman() {
    const viewHeight = camera.top - camera.bottom;
    // D·ªùi xu·ªëng ƒë√°y, nh√≠ch l√™n m·ªôt ch√∫t (1 ƒë∆°n v·ªã)
    stickman.position.y = camera.bottom + 1;
  }
  positionStickman();
  
  /* Render loop */
  function animate() {
    requestAnimationFrame(animate);
    renderer.render(scene, camera);
  }
  animate();
  
  /* Resize handler */
/* ==== CƒÉn ng∆∞·ªùi que xu·ªëng g√≥c tr√°i d∆∞·ªõi ==== */
function positionStickman() {
  const margin = 1; // ch·ª´a 1 ƒë∆°n v·ªã cho kh·ªèi d√≠nh s√°t
  stickman.position.y = camera.bottom;
  stickman.position.x = camera.left + margin + 3;
}
positionStickman();

/* Resize handler */
window.addEventListener('resize', () => {
  aspect = window.innerWidth / window.innerHeight;
  camera.left = -10 * aspect;
  camera.right = 10 * aspect;
  camera.top = 10;
  camera.bottom = -10;
  camera.updateProjectionMatrix();

  renderer.setSize(window.innerWidth, window.innerHeight);

  positionStickman(); // ƒë·∫∑t l·∫°i ng∆∞·ªùi que v√†o g√≥c tr√°i d∆∞·ªõi
});

function fly(symbol, reverse = false) {
  const icon = document.createElement("div");
  icon.className = "icon";
  icon.textContent = symbol;

  const randY = 20 + Math.random() * 60;
  icon.style.top = randY + "vh";

  // animation bay + √°nh s√°ng
  icon.style.animationName = reverse ? "flyBack" : "flyAcross";

  // tƒÉng t·ªëc ƒë·ªô n·∫øu mu·ªën
  icon.style.animationDuration = reverse ? "1.5s" : "3s";

  document.body.appendChild(icon);

  setTimeout(() => icon.remove(), 2500);
}
</script>
</body>
</html>
